# 3D 디지털 트윈 관제 시스템을 위한 비동기 AI API 서버  
## Software Requirements Specification (SRS)

---

## 1. 개요 (Introduction)

### 1.1 프로젝트 목적

본 프로젝트의 목적은 **3D 디지털 트윈 관제 시스템을 위한 비동기 AI API 서버**를 설계·구현하는 것이다.  
본 시스템은 이미지 기반 입력을 처리하여 침입자 및 재난 상황을 인식하고, 요청의 중요도에 따라 우선순위를 적용하는 구조를 제공한다.

본 문서는 해당 시스템이 충족해야 할 요구사항을 명확히 정의하여, 이후 설계 및 구현 단계의 기준 문서로 활용하는 것을 목적으로 한다.

---

### 1.2 프로젝트 배경

현대의 관제 시스템은 드론, CCTV 등 다양한 센서로부터 대량의 시각 데이터를 수집한다.  
특히 군사 기지, 공항, 발전소와 같은 중요 시설에서는 침입 탐지뿐 아니라 화재나 사고와 같은 긴급 상황에 대한 **신속한 대응**이 요구된다.

그러나 통신 환경이 불안정한 상황에서는 동기식 처리 방식이 병목을 유발할 수 있으므로,  
본 프로젝트에서는 **비동기 처리 및 우선순위 기반 작업 분리 구조**를 핵심 개념으로 삼는다.

---

## 2. 시스템 범위 (Scope)

### 2.1 시스템이 수행하는 기능

- 외부 시스템으로부터 이미지 요청을 수신
- 이미지 내 사람 또는 차량의 존재 인식
- 화재, 연기, 사고와 같은 긴급 상황 인식
- 요청의 중요도에 따른 우선순위 분류
- 비동기 방식의 이미지 처리
- 분석 결과 제공

---

### 2.2 시스템이 수행하지 않는 기능

- 영상 스트리밍 또는 실시간 비디오 분석
- 모델 정확도에 대한 정량적 성능 평가
- 사용자 인증 및 접근 제어 기능
- 상용 서비스 수준의 고가용성 보장

---

## 3. 기능적 요구사항 (Functional Requirements)

### FR-1. 이미지 요청 수신
시스템은 외부 클라이언트로부터 이미지 기반 분석 요청을 수신할 수 있어야 한다.

---

### FR-2. 객체 탐지
시스템은 이미지에서 사람 또는 차량의 존재를 인식할 수 있어야 한다.

---

### FR-3. 이미지 캡셔닝
시스템은 이미지의 상황을 설명하는 텍스트를 생성할 수 있어야 한다.

---

### FR-4. 긴급 상황 인식
시스템은 이미지에서 화재, 연기, 교통사고와 같은 긴급 상황을 인식할 수 있어야 한다.

---

### FR-5. 우선순위 분류
시스템은 이미지 캡셔닝 결과에 따라 입력된 요청을 정상 또는 긴급 우선순위로 분류해야 한다.

---

### FR-6. 우선순위 기반 처리
긴급 우선순위 요청은 정상 우선순위 요청보다 먼저 처리되어야 한다.  
동일 우선순위인 경우 요청 시간이 더 빠른 요청을 우선시한다.

---

### FR-7. 결과 생성 및 제공
시스템은 각 요청에 대해 분석 결과를 생성하고, 이를 외부 클라이언트 또는 관제 요원이 확인할 수 있도록 제공해야 한다.  
특히 긴급 상황이 발생했을 경우 알림을 발송하여 상황이 즉각 인식되도록 한다.

---

## 4. 비기능적 요구사항 (Non-Functional Requirements)

### NFR-1. 비동기 처리
시스템은 이미지 분석 작업을 비동기 방식으로 처리하여 요청 처리 중 API 서버가 차단되지 않도록 해야 한다.

---

### NFR-2. 응답 속도 (Latency)
시스템은 이미지 분석 요청에 대해,  
요청 수신 시점부터 **비동기 처리 단계로 전환되기까지의 응답 시간**이 평균 **500ms 이내**가 되도록 설계되어야 한다.

---

### NFR-3. 동시 처리량 (Throughput)
시스템은 정상 동작 환경에서 최소 **10건 이상의 이미지 분석 요청**을 동시에 수신하더라도,  
각 요청이 정상적으로 처리 흐름에 진입할 수 있어야 한다.

---

### NFR-4. 확장성
시스템은 요청 증가에 따라 처리 컴포넌트를 확장할 수 있는 구조를 가져야 한다.

---

### NFR-5. 이식성
시스템은 컨테이너 기반 환경을 통해 다양한 실행 환경에서 동일하게 배포 및 실행 가능해야 한다.

---

### NFR-6. 안정성
개별 요청 처리 실패가 전체 시스템 장애로 이어지지 않아야 한다.

---

## 5. 인터페이스 요구사항 (Interface Requirements)

### 5.1 사용자 인터페이스 (UI)

본 시스템은 직접적인 그래픽 사용자 인터페이스(GUI)를 제공하지 않으며,  
API 응답 형태로 결과를 제공하는 것을 기본으로 한다.

---

### 5.2 소프트웨어 인터페이스

- 외부 시스템과는 HTTP 기반 API를 통해 통신한다.
- 요청 수신 단계와 실제 이미지 분석 단계는 분리되어야 한다.
- 분석 작업은 비동기적으로 처리될 수 있도록 별도의 처리 컴포넌트로 전달되어야 한다.

---

### 5.3 하드웨어 인터페이스

- 본 시스템은 특정 하드웨어에 종속되지 않는다.
- CPU-only 환경에서의 동작을 기본 가정으로 한다.

---

## 6. 데이터 요구사항 (Data Requirements)

### 6.1 입력 데이터

- 이미지 파일 (JPEG, PNG 형식)
- 정상 상황 이미지 및 긴급 상황 이미지

---

### 6.2 테스트 데이터셋 구성

#### Base 데이터셋
- 정상 상황을 나타내는 이미지
- 사람 또는 차량이 포함된 장면

#### Emergency 데이터셋
- 화재, 연기, 사고 상황을 나타내는 이미지
- 시점 제한 없음

---

### 6.3 메타데이터

각 이미지 데이터는 다음 정보를 포함한 메타데이터와 함께 관리된다.

- 이미지 식별자 (ID)
- 파일 경로
- 상황 분류 (Category)
- 처리 우선순위 (Priority)

---

### 6.4 데이터 관리 기준

- 데이터는 학습 목적이 아닌 **시스템 검증용**으로 사용된다.
- 데이터셋은 재현 가능하도록 **고정된 구조**로 관리되어야 한다.
